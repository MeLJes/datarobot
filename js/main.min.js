async function getData(){const e=await fetch("https://api.jsonbin.io/b/5dd7cefb040d843991f7183c"),t=await e.json(),n=document.getElementById("dropdown-items"),a=document.getElementById("active-item"),i=Object.keys(t.departments).map(e=>t.departments[e]).sort((function(e,t){return e.name[0].localeCompare(t.name[0])}));let o='\n    <li class="dropdown-item" data-department-id="all">\n      All departments\n    </li>';o+=i.map((function(e){return`<li class="dropdown-item" data-department-id="${e.id}">\n\t\t\t\t${e.name}\n\t\t\t</li>`})).join(""),n.innerHTML=o,Array.from(document.getElementsByClassName("dropdown-item")).forEach(e=>{e.addEventListener("click",()=>{a.innerHTML=e.innerHTML,a.dataset.departmentId=e.dataset.departmentId,c(e.dataset.departmentId),document.getElementById("dropdown-items").classList.remove("active")})});const d=document.getElementById("positions"),s=Object.keys(t.jobs).map(e=>t.jobs[e]).sort((function(e,t){return e.title[0].localeCompare(t.title[0])}));function c(e){if("all"===a.dataset.departmentId)d.classList.remove("loaded"),setTimeout((function(){d.innerHTML=s.map((function(e,t){return`\n        <div class="item" data-item-number="${t+10}" data-item-department="${e.departments}">\n          <h2 data-position="${e.title}">\n            <a href="${e.absolute_url}">${e.title}</a>\n          </h2>\n\n          <div class="info">\n            <div class="city" data-item-city="${e.location.name}">\n              <div class="media-holder">\n                <img src="icons/city.svg" alt="DataRobot" />\n              </div>\x3c!-- .media-holder --\x3e\n\n              ${e.location.name}\n            </div>\x3c!-- .city --\x3e\n\n            <div class="department" data-item-department="${e.departments}">\n              <div class="media-holder">\n                <img src="icons/department.svg" alt="DataRobot" />\n              </div>\x3c!-- .media-holder --\x3e\n\n              ${e.departmentName}\n            </div>\x3c!-- .place --\x3e\n          </div>\x3c!-- .info --\x3e\n\n          <a href="${e.absolute_url}" class="more">\n            Learn more\n\n            <img src="icons/more.svg" alt="DataRobot" />\n          </a>\x3c!-- .more --\x3e\n        </div>\x3c!-- .item --\x3e`})).join(""),r(s)}),250),setTimeout((function(){d.classList.add("loaded")}),325);else{let t=0,n=s.reduce((function(e,t){return e[t.departments[0]]?e[t.departments[0]]++:e[t.departments[0]]=1,e}),{});Object.keys(n).forEach((function(n){n===e&&(t=1)})),1===t?(d.classList.remove("loaded"),setTimeout((function(){let t=s.filter((function(t){return t.departments==parseInt(e)}));d.innerHTML=t.map((function(e,t){return`\n          <div class="item" data-item-number="${t+10}" data-item-department="${e.departments}">\n            <h2 data-position="${e.title}">\n              <a href="${e.absolute_url}">${e.title}</a>\n            </h2>\n\n            <div class="info">\n              <div class="city" data-item-city="${e.location.name}">\n                <div class="media-holder">\n                  <img src="icons/city.svg" alt="DataRobot" />\n                </div>\x3c!-- .media-holder --\x3e\n\n                ${e.location.name}\n              </div>\x3c!-- .city --\x3e\n\n              <div class="department" data-item-department="${e.departments}">\n                <div class="media-holder">\n                  <img src="icons/department.svg" alt="DataRobot" />\n                </div>\x3c!-- .media-holder --\x3e\n\n                ${e.departmentName}\n              </div>\x3c!-- .place --\x3e\n            </div>\x3c!-- .info --\x3e\n\n            <a href="${e.absolute_url}" class="more">\n              Learn more\n\n              <img src="icons/more.svg" alt="DataRobot" />\n            </a>\x3c!-- .more --\x3e\n          </div>\x3c!-- .item --\x3e`})).join(""),r(t)}),250),setTimeout((function(){d.classList.add("loaded")}),325)):(d.classList.remove("loaded"),setTimeout((function(){d.innerHTML='<h2 class="empty">There is no open positions for this category</h2>'}),250),setTimeout((function(){d.classList.add("loaded")}),325))}}s.map((function(e){e.departmentName=function(e,t){return e.find((function(e){if(e.id===t)return e.name})).name}(i,e.departments[0])})),c();const m=document.getElementById("pagination");function r(e){let t=document.querySelectorAll("#positions .item");if(t.length>=11){let e=[];for(let n=1;n<=Math.ceil(t.length/10);n++)e.push(n);m.innerHTML=e.map((function(e){return`<div class="item" data-page-number="${e}">${e}</div>\x3c!-- .item --\x3e`})).join(""),document.querySelectorAll("#pagination .item")[0].classList.add("active"),m.classList.add("active"),document.querySelectorAll("#pagination .item").forEach((function(e){document.querySelectorAll("#positions .item").forEach((function(e){1!=e.dataset.itemNumber.charAt(0)&&e.classList.add("hide-element")})),e.addEventListener("click",(function(){d.classList.remove("loaded"),setTimeout((function(){var t;document.querySelectorAll("#positions .item").forEach((function(t){t.classList.remove("hide-element"),t.dataset.itemNumber.charAt(0)!==e.dataset.pageNumber&&t.classList.add("hide-element")})),l(e).forEach((function(e){e.classList.remove("active")})),t=document.getElementById("positions"),window.scrollTo({behavior:"smooth",left:0,top:t.offsetTop}),e.classList.add("active")}),250),setTimeout((function(){d.classList.add("loaded")}),325)}))}))}else m.innerHTML="",m.classList.remove("active")}let l=function(e){for(var t=[],n=e.parentNode.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t}}getData(),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("active-item").addEventListener("click",()=>{document.getElementById("dropdown-items").classList.toggle("active")})}),window.addEventListener("load",()=>{document.body.classList.remove("loading"),document.body.classList.add("loaded")});